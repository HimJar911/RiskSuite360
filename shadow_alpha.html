import React, { useState, useEffect, useMemo } from 'react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar } from 'recharts';
import { TrendingUp, TrendingDown, Activity, DollarSign, Target, Shield, AlertTriangle, RefreshCw, Download, Settings, ChevronRight, Eye, EyeOff } from 'lucide-react';

const ShadowAlphaDashboard = () => {
  const [selectedTimeframe, setSelectedTimeframe] = useState('1Y');
  const [isRealtime, setIsRealtime] = useState(true);
  const [showMetrics, setShowMetrics] = useState(true);
  const [lastUpdate, setLastUpdate] = useState(new Date());

  // Mock real-time data updates
  useEffect(() => {
    if (isRealtime) {
      const interval = setInterval(() => {
        setLastUpdate(new Date());
      }, 1000);
      return () => clearInterval(interval);
    }
  }, [isRealtime]);

  // Performance data for charts
  const performanceData = useMemo(() => {
    const baseData = [
      { month: 'Jan', portfolio: 100000, benchmark: 100000, alpha: 0 },
      { month: 'Feb', portfolio: 105200, benchmark: 102100, alpha: 3.1 },
      { month: 'Mar', portfolio: 108950, benchmark: 103800, alpha: 5.0 },
      { month: 'Apr', portfolio: 112750, benchmark: 105200, alpha: 7.2 },
      { month: 'May', portfolio: 118200, benchmark: 106900, alpha: 10.6 },
      { month: 'Jun', portfolio: 122850, benchmark: 108100, alpha: 13.6 },
      { month: 'Jul', portfolio: 126900, benchmark: 109500, alpha: 15.9 },
      { month: 'Aug', portfolio: 131200, benchmark: 110800, alpha: 18.4 },
      { month: 'Sep', portfolio: 135800, benchmark: 112200, alpha: 21.1 },
      { month: 'Oct', portfolio: 140500, benchmark: 113900, alpha: 23.4 },
      { month: 'Nov', portfolio: 146200, benchmark: 115100, alpha: 27.0 },
      { month: 'Dec', portfolio: 152500, benchmark: 116500, alpha: 30.9 }
    ];
    
    // Add some real-time jitter
    if (isRealtime) {
      const jitter = Math.sin(Date.now() / 1000) * 0.5;
      return baseData.map(d => ({
        ...d,
        portfolio: d.portfolio + (d.portfolio * jitter * 0.001)
      }));
    }
    
    return baseData;
  }, [isRealtime, lastUpdate]);

  const factorExposures = [
    { name: 'Value', value: 0.68, color: '#3b82f6' },
    { name: 'Momentum', value: 0.45, color: '#ec4899' },
    { name: 'Quality', value: 0.72, color: '#10b981' },
    { name: 'Low Vol', value: 0.35, color: '#f59e0b' },
    { name: 'Size', value: 0.28, color: '#8b5cf6' }
  ];

  const assetAllocation = [
    { name: 'Equities', value: 60, color: '#3b82f6' },
    { name: 'Fixed Income', value: 25, color: '#10b981' },
    { name: 'Alternatives', value: 10, color: '#f59e0b' },
    { name: 'Cash', value: 5, color: '#6b7280' }
  ];

  const regimeDistribution = [
    { name: 'Risk On Growth', value: 75, color: '#3b82f6' },
    { name: 'Risk Off Defensive', value: 10, color: '#ef4444' },
    { name: 'Inflation Regime', value: 5, color: '#f59e0b' },
    { name: 'Liquidity Crisis', value: 5, color: '#8b5cf6' },
    { name: 'Stagflation', value: 3, color: '#6b7280' },
    { name: 'Goldilocks', value: 2, color: '#10b981' }
  ];

  const portfolioHoldings = [
    { symbol: 'AAPL', name: 'Apple Inc', weight: 5.2, return: 15.3, risk: 18.2, value: 0.2, momentum: 0.8, quality: 0.7 },
    { symbol: 'MSFT', name: 'Microsoft Corp', weight: 4.8, return: 18.2, risk: 16.8, value: 0.3, momentum: 0.7, quality: 0.8 },
    { symbol: 'AMZN', name: 'Amazon.com Inc', weight: 4.2, return: 12.5, risk: 22.1, value: 0.1, momentum: 0.9, quality: 0.6 },
    { symbol: 'GOOGL', name: 'Alphabet Inc', weight: 3.8, return: 14.7, risk: 19.5, value: 0.2, momentum: 0.6, quality: 0.9 },
    { symbol: 'TSLA', name: 'Tesla Inc', weight: 3.5, return: 22.4, risk: 35.2, value: 0.1, momentum: 0.9, quality: 0.4 },
    { symbol: 'NVDA', name: 'NVIDIA Corp', weight: 3.2, return: 28.9, risk: 32.8, value: 0.2, momentum: 0.8, quality: 0.7 },
    { symbol: 'META', name: 'Meta Platforms', weight: 2.9, return: 16.8, risk: 28.4, value: 0.3, momentum: 0.7, quality: 0.6 },
    { symbol: 'BRK.B', name: 'Berkshire Hathaway', weight: 2.7, return: 11.2, risk: 14.6, value: 0.8, momentum: 0.3, quality: 0.9 }
  ];

  const strategies = [
    {
      name: 'Multi-Factor Alpha',
      description: 'Combines multiple factors for optimal alpha generation',
      return: 15.2,
      risk: 8.5,
      sharpe: 1.79,
      aum: 1000000,
      active: true
    },
    {
      name: 'Statistical Arbitrage',
      description: 'Market neutral strategy exploiting price inefficiencies',
      return: 12.1,
      risk: 5.2,
      sharpe: 2.33,
      aum: 750000,
      active: true
    },
    {
      name: 'Macro Regime',
      description: 'Adapts to different macroeconomic environments',
      return: 9.8,
      risk: 7.1,
      sharpe: 1.38,
      aum: 500000,
      active: false
    }
  ];

  const MetricCard = ({ title, value, change, trend, icon: Icon, color = 'blue' }) => (
    <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50 hover:border-slate-600/50 transition-all duration-300">
      <div className="flex items-center justify-between mb-3">
        <div className="flex items-center gap-2">
          <Icon className={`w-5 h-5 text-${color}-400`} />
          <span className="text-slate-300 text-sm font-medium">{title}</span>
        </div>
        {trend && (
          <div className={`flex items-center gap-1 ${trend > 0 ? 'text-green-400' : 'text-red-400'}`}>
            {trend > 0 ? <TrendingUp className="w-4 h-4" /> : <TrendingDown className="w-4 h-4" />}
            <span className="text-xs">{Math.abs(trend).toFixed(1)}%</span>
          </div>
        )}
      </div>
      <div className="text-2xl font-bold text-white mb-1">{value}</div>
      {change && (
        <div className={`text-sm ${change > 0 ? 'text-green-400' : 'text-red-400'}`}>
          {change > 0 ? '+' : ''}{change}%
        </div>
      )}
    </div>
  );

  const FactorGauge = ({ name, value, color }) => {
    const circumference = 2 * Math.PI * 45;
    const strokeDasharray = circumference;
    const strokeDashoffset = circumference - (value * circumference);
    
    return (
      <div className="flex flex-col items-center">
        <div className="relative w-24 h-24">
          <svg className="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
            <circle
              cx="50"
              cy="50"
              r="45"
              fill="none"
              stroke="rgba(51, 65, 85, 0.3)"
              strokeWidth="8"
            />
            <circle
              cx="50"
              cy="50"
              r="45"
              fill="none"
              stroke={color}
              strokeWidth="8"
              strokeDasharray={strokeDasharray}
              strokeDashoffset={strokeDashoffset}
              className="transition-all duration-1000 ease-out"
            />
          </svg>
          <div className="absolute inset-0 flex items-center justify-center">
            <span className="text-white font-bold text-lg">{(value * 100).toFixed(0)}%</span>
          </div>
        </div>
        <span className="text-slate-300 text-sm mt-2">{name}</span>
      </div>
    );
  };

  const TimeframeTabs = () => (
    <div className="flex bg-slate-800/50 rounded-lg p-1 border border-slate-700/50">
      {['1M', '3M', '6M', '1Y', 'All'].map((timeframe) => (
        <button
          key={timeframe}
          onClick={() => setSelectedTimeframe(timeframe)}
          className={`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${
            selectedTimeframe === timeframe
              ? 'bg-blue-600 text-white shadow-sm'
              : 'text-slate-300 hover:text-white hover:bg-slate-700/50'
          }`}
        >
          {timeframe}
        </button>
      ))}
    </div>
  );

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white">
      {/* Header */}
      <div className="border-b border-slate-700/50 bg-slate-900/50 backdrop-blur-sm">
        <div className="px-6 py-4">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-4">
              <div className="flex items-center gap-2">
                <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                  <Activity className="w-5 h-5 text-white" />
                </div>
                <h1 className="text-2xl font-bold">ShadowAlpha</h1>
              </div>
              <div className="flex items-center gap-6 text-sm">
                <button className="text-blue-400 hover:text-blue-300 transition-colors">Dashboard</button>
                <button className="text-slate-400 hover:text-slate-300 transition-colors">Strategies</button>
                <button className="text-slate-400 hover:text-slate-300 transition-colors">Analytics</button>
                <button className="text-slate-400 hover:text-slate-300 transition-colors">Risk</button>
              </div>
            </div>
            <div className="flex items-center gap-4">
              <div className="flex items-center gap-2 text-sm text-slate-400">
                <div className={`w-2 h-2 rounded-full ${isRealtime ? 'bg-green-400' : 'bg-red-400'}`}></div>
                <span>Last update: {lastUpdate.toLocaleTimeString()}</span>
              </div>
              <button
                onClick={() => setIsRealtime(!isRealtime)}
                className="p-2 rounded-lg bg-slate-800/50 border border-slate-700/50 hover:border-slate-600/50 transition-all"
              >
                <RefreshCw className={`w-4 h-4 ${isRealtime ? 'animate-spin' : ''}`} />
              </button>
              <button className="p-2 rounded-lg bg-slate-800/50 border border-slate-700/50 hover:border-slate-600/50 transition-all">
                <Settings className="w-4 h-4" />
              </button>
            </div>
          </div>
        </div>
      </div>

      <div className="p-6 space-y-6">
        {/* Strategy Cards */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          {strategies.map((strategy, index) => (
            <div key={index} className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50 hover:border-slate-600/50 transition-all duration-300">
              <div className="flex items-center justify-between mb-3">
                <h3 className="text-lg font-semibold text-white flex items-center gap-2">
                  {strategy.name}
                  {strategy.active && <div className="w-2 h-2 bg-green-400 rounded-full"></div>}
                </h3>
                <button className="text-slate-400 hover:text-slate-300">
                  <ChevronRight className="w-4 h-4" />
                </button>
              </div>
              <p className="text-slate-300 text-sm mb-4">{strategy.description}</p>
              <div className="grid grid-cols-3 gap-4">
                <div>
                  <div className="text-green-400 text-xl font-bold">{strategy.return}%</div>
                  <div className="text-slate-400 text-xs">Return</div>
                </div>
                <div>
                  <div className="text-blue-400 text-xl font-bold">{strategy.risk}%</div>
                  <div className="text-slate-400 text-xs">Risk</div>
                </div>
                <div>
                  <div className="text-purple-400 text-xl font-bold">{strategy.sharpe}</div>
                  <div className="text-slate-400 text-xs">Sharpe</div>
                </div>
              </div>
              <div className="mt-4 pt-4 border-t border-slate-700/50">
                <div className="flex items-center justify-between">
                  <span className="text-slate-300 text-sm">AUM</span>
                  <span className="text-white font-semibold">${(strategy.aum / 1000).toFixed(0)}K</span>
                </div>
              </div>
            </div>
          ))}
        </div>

        {/* Main Dashboard */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          {/* Performance Chart */}
          <div className="lg:col-span-2 bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
            <div className="flex items-center justify-between mb-6">
              <div>
                <h3 className="text-lg font-semibold text-white">Multi-Factor Alpha</h3>
                <p className="text-slate-300 text-sm">Performance & Analytics</p>
              </div>
              <div className="flex items-center gap-4">
                <div className="text-right">
                  <div className="text-2xl font-bold text-white">$1,000,000</div>
                  <div className="text-green-400 text-sm">+12.5%</div>
                </div>
                <TimeframeTabs />
              </div>
            </div>
            <div className="h-64">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={performanceData}>
                  <CartesianGrid strokeDasharray="3 3" stroke="#374151" />
                  <XAxis dataKey="month" stroke="#9CA3AF" />
                  <YAxis stroke="#9CA3AF" />
                  <Tooltip 
                    contentStyle={{
                      backgroundColor: 'rgba(30, 41, 59, 0.95)',
                      border: '1px solid #475569',
                      borderRadius: '8px'
                    }}
                  />
                  <Line 
                    type="monotone" 
                    dataKey="portfolio" 
                    stroke="#3b82f6" 
                    strokeWidth={3}
                    dot={{ fill: '#3b82f6', strokeWidth: 2, r: 4 }}
                  />
                  <Line 
                    type="monotone" 
                    dataKey="benchmark" 
                    stroke="#6b7280" 
                    strokeWidth={2}
                    strokeDasharray="5 5"
                    dot={{ fill: '#6b7280', strokeWidth: 2, r: 3 }}
                  />
                </LineChart>
              </ResponsiveContainer>
            </div>
          </div>

          {/* Market Regime */}
          <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
            <h3 className="text-lg font-semibold text-white mb-4">Market Regime Analysis</h3>
            <div className="space-y-4">
              <div>
                <div className="flex items-center justify-between mb-2">
                  <span className="text-slate-300 text-sm">Current Regime</span>
                </div>
                <div className="text-blue-400 text-xl font-bold">Risk On Growth</div>
                <p className="text-slate-400 text-sm">Low volatility with rising markets and strong growth indicators.</p>
              </div>
              <div className="relative">
                <div className="w-32 h-32 mx-auto">
                  <svg className="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                    <circle
                      cx="50"
                      cy="50"
                      r="45"
                      fill="none"
                      stroke="rgba(51, 65, 85, 0.3)"
                      strokeWidth="8"
                    />
                    <circle
                      cx="50"
                      cy="50"
                      r="45"
                      fill="none"
                      stroke="#3b82f6"
                      strokeWidth="8"
                      strokeDasharray="283"
                      strokeDashoffset="71"
                      className="transition-all duration-1000 ease-out"
                    />
                  </svg>
                  <div className="absolute inset-0 flex items-center justify-center">
                    <span className="text-white font-bold text-2xl">75%</span>
                  </div>
                </div>
                <div className="text-center mt-2">
                  <span className="text-slate-300 text-sm">Confidence level: High</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Factor Exposures and Asset Allocation */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
            <h3 className="text-lg font-semibold text-white mb-6">Factor Exposures</h3>
            <div className="grid grid-cols-3 gap-6">
              {factorExposures.map((factor, index) => (
                <FactorGauge key={index} {...factor} />
              ))}
            </div>
          </div>

          <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
            <h3 className="text-lg font-semibold text-white mb-6">Asset Allocation</h3>
            <div className="grid grid-cols-2 gap-6">
              <div className="h-48">
                <ResponsiveContainer width="100%" height="100%">
                  <PieChart>
                    <Pie
                      data={assetAllocation}
                      cx="50%"
                      cy="50%"
                      innerRadius={40}
                      outerRadius={70}
                      paddingAngle={5}
                      dataKey="value"
                    >
                      {assetAllocation.map((entry, index) => (
                        <Cell key={`cell-${index}`} fill={entry.color} />
                      ))}
                    </Pie>
                    <Tooltip
                      contentStyle={{
                        backgroundColor: 'rgba(30, 41, 59, 0.95)',
                        border: '1px solid #475569',
                        borderRadius: '8px'
                      }}
                    />
                  </PieChart>
                </ResponsiveContainer>
              </div>
              <div className="space-y-3">
                {assetAllocation.map((asset, index) => (
                  <div key={index} className="flex items-center justify-between">
                    <div className="flex items-center gap-2">
                      <div className={`w-3 h-3 rounded-full`} style={{ backgroundColor: asset.color }}></div>
                      <span className="text-slate-300 text-sm">{asset.name}</span>
                    </div>
                    <span className="text-white font-semibold">{asset.value}%</span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>

        {/* Risk and Performance Metrics */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
            <h3 className="text-lg font-semibold text-white mb-6">Risk Metrics</h3>
            <div className="grid grid-cols-2 gap-6">
              <div>
                <div className="text-slate-300 text-sm mb-1">Volatility</div>
                <div className="text-2xl font-bold text-white">8.2%</div>
              </div>
              <div>
                <div className="text-slate-300 text-sm mb-1">Sharpe Ratio</div>
                <div className="text-2xl font-bold text-white">1.52</div>
              </div>
              <div>
                <div className="text-slate-300 text-sm mb-1">Max Drawdown</div>
                <div className="text-2xl font-bold text-red-400">12.4%</div>
              </div>
              <div>
                <div className="text-slate-300 text-sm mb-1">Beta</div>
                <div className="text-2xl font-bold text-white">0.85</div>
              </div>
            </div>
          </div>

          <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
            <h3 className="text-lg font-semibold text-white mb-6">Performance Metrics</h3>
            <div className="grid grid-cols-2 gap-6">
              <div>
                <div className="text-slate-300 text-sm mb-1">YTD Return</div>
                <div className="text-2xl font-bold text-green-400">8.2%</div>
              </div>
              <div>
                <div className="text-slate-300 text-sm mb-1">1Y Return</div>
                <div className="text-2xl font-bold text-green-400">12.5%</div>
              </div>
              <div>
                <div className="text-slate-300 text-sm mb-1">3Y Return</div>
                <div className="text-2xl font-bold text-green-400">32.6%</div>
              </div>
              <div>
                <div className="text-slate-300 text-sm mb-1">5Y Return</div>
                <div className="text-2xl font-bold text-green-400">58.4%</div>
              </div>
            </div>
          </div>
        </div>

        {/* Portfolio Holdings */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
          <div className="flex items-center justify-between mb-6">
            <h3 className="text-lg font-semibold text-white">Portfolio Holdings</h3>
            <div className="flex items-center gap-2">
              <button
                onClick={() => setShowMetrics(!showMetrics)}
                className="flex items-center gap-2 px-3 py-1 rounded-lg bg-slate-700/50 border border-slate-600/50 hover:border-slate-500/50 transition-all text-sm"
              >
                {showMetrics ? <EyeOff className="w-4 h-4" /> : <Eye className="w-4 h-4" />}
                {showMetrics ? 'Hide' : 'Show'} Metrics
              </button>
              <button className="flex items-center gap-2 px-3 py-1 rounded-lg bg-slate-700/50 border border-slate-600/50 hover:border-slate-500/50 transition-all text-sm">
                <Download className="w-4 h-4" />
                Export
              </button>
              <button className="flex items-center gap-2 px-3 py-1 rounded-lg bg-blue-600 hover:bg-blue-700 transition-all text-sm">
                <RefreshCw className="w-4 h-4" />
                Refresh
              </button>
            </div>
          </div>
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="border-b border-slate-700/50">
                  <th className="text-left py-3 px-4 text-slate-300 font-medium">Symbol</th>
                  <th className="text-left py-3 px-4 text-slate-300 font-medium">Name</th>
                  <th className="text-right py-3 px-4 text-slate-300 font-medium">Weight</th>
                  <th className="text-right py-3 px-4 text-slate-300 font-medium">Return</th>
                  <th className="text-right py-3 px-4 text-slate-300 font-medium">Risk</th>
                  {showMetrics && (
                    <>
                      <th className="text-right py-3 px-4 text-slate-300 font-medium">Value</th>
                      <th className="text-right py-3 px-4 text-slate-300 font-medium">Momentum</th>
                      <th className="text-right py-3 px-4 text-slate-300 font-medium">Quality</th>
                    </>
                  )}
                </tr>
              </thead>
              <tbody>
                {portfolioHoldings.map((holding, index) => (
                  <tr key={index} className="border-b border-slate-700/25 hover:bg-slate-700/25 transition-colors">
                    <td className="py-3 px-4 font-mono text-blue-400">{holding.symbol}</td>
                    <td className="py-3 px-4 text-white">{holding.name}</td>
                    <td className="py-3 px-4 text-right text-white">{holding.weight}%</td>
                    <td className="py-3 px-4 text-right text-green-400">{holding.return}%</td>
                    <td className="py-3 px-4 text-right text-orange-400">{holding.risk}%</td>
                    {showMetrics && (
                      <>
                        <td className="py-3 px-4 text-right text-slate-300">{holding.value.toFixed(1)}</td>
                        <td className="py-3 px-4 text-right text-slate-300">{holding.momentum.toFixed(1)}</td>
                        <td className="py-3 px-4 text-right text-slate-300">{holding.quality.toFixed(1)}</td>
                      </>
                    )}
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>

        {/* Regime Distribution */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
          <h3 className="text-lg font-semibold text-white mb-6">Regime Distribution</h3>
          <div className="space-y-4">
            {regimeDistribution.map((regime, index) => (
              <div key={index} className="flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <div className={`w-4 h-4 rounded-full`} style={{ backgroundColor: regime.color }}></div>
                  <span className="text-slate-300">{regime.name}</span>
                </div>
                <div className="flex items-center gap-3">
                  <div className="w-32 bg-slate-700 rounded-full h-2 overflow-hidden">
                    <div 
                      className="h-full rounded-full transition-all duration-1000 ease-out"
                      style={{ 
                        width: `${regime.value}%`,
                        backgroundColor: regime.color 
                      }}
                    ></div>
                  </div>
                  <span className="text-white font-semibold w-12 text-right">{regime.value}%</span>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Advanced Analytics Footer */}
        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
          <MetricCard
            title="Alpha Generation"
            value="2.8%"
            change={0.3}
            trend={1}
            icon={Target}
            color="green"
          />
          <MetricCard
            title="Information Ratio"
            value="1.45"
            change={0.12}
            trend={1}
            icon={TrendingUp}
            color="blue"
          />
          <MetricCard
            title="Tracking Error"
            value="4.2%"
            change={-0.1}
            trend={-1}
            icon={Shield}
            color="purple"
          />
          <MetricCard
            title="VaR (95%)"
            value="$85K"
            change={-2.1}
            trend={-1}
            icon={AlertTriangle}
            color="red"
          />
        </div>

        {/* Real-time Market Data Feed */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
          <div className="flex items-center justify-between mb-4">
            <h3 className="text-lg font-semibold text-white">Live Market Feed</h3>
            <div className="flex items-center gap-2">
              <div className={`w-2 h-2 rounded-full ${isRealtime ? 'bg-green-400 animate-pulse' : 'bg-red-400'}`}></div>
              <span className="text-slate-400 text-sm">
                {isRealtime ? 'Live Data' : 'Market Closed'}
              </span>
            </div>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4">
            {[
              { symbol: 'SPY', price: '445.72', change: '+0.85%', color: 'green' },
              { symbol: 'QQQ', price: '378.92', change: '+1.24%', color: 'green' },
              { symbol: 'IWM', price: '198.45', change: '-0.32%', color: 'red' },
              { symbol: 'VIX', price: '16.82', change: '-2.15%', color: 'red' },
              { symbol: 'GLD', price: '182.34', change: '+0.45%', color: 'green' },
              { symbol: 'TLT', price: '98.76', change: '-0.68%', color: 'red' }
            ].map((ticker, index) => (
              <div key={index} className="bg-slate-700/30 rounded-lg p-3 border border-slate-600/30">
                <div className="font-mono text-sm text-blue-400 mb-1">{ticker.symbol}</div>
                <div className="text-white font-bold">${ticker.price}</div>
                <div className={`text-sm ${ticker.color === 'green' ? 'text-green-400' : 'text-red-400'}`}>
                  {ticker.change}
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Trading Algorithm Status */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
          <h3 className="text-lg font-semibold text-white mb-6">Algorithm Status</h3>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {[
              {
                name: 'Mean Reversion Alpha',
                status: 'Active',
                pnl: '+$12,450',
                trades: '47',
                winRate: '68%',
                statusColor: 'green'
              },
              {
                name: 'Momentum Breakout',
                status: 'Active', 
                pnl: '+$8,920',
                trades: '23',
                winRate: '74%',
                statusColor: 'green'
              },
              {
                name: 'Volatility Arbitrage',
                status: 'Paused',
                pnl: '-$1,280',
                trades: '12',
                winRate: '42%',
                statusColor: 'yellow'
              }
            ].map((algo, index) => (
              <div key={index} className="bg-slate-700/30 rounded-lg p-4 border border-slate-600/30">
                <div className="flex items-center justify-between mb-3">
                  <h4 className="font-semibold text-white">{algo.name}</h4>
                  <div className={`flex items-center gap-2 px-2 py-1 rounded-full text-xs ${
                    algo.statusColor === 'green' ? 'bg-green-400/20 text-green-400' :
                    algo.statusColor === 'yellow' ? 'bg-yellow-400/20 text-yellow-400' :
                    'bg-red-400/20 text-red-400'
                  }`}>
                    <div className={`w-1.5 h-1.5 rounded-full ${
                      algo.statusColor === 'green' ? 'bg-green-400' :
                      algo.statusColor === 'yellow' ? 'bg-yellow-400' :
                      'bg-red-400'
                    }`}></div>
                    {algo.status}
                  </div>
                </div>
                <div className="space-y-2">
                  <div className="flex justify-between">
                    <span className="text-slate-400 text-sm">P&L Today:</span>
                    <span className={`font-semibold ${algo.pnl.startsWith('+') ? 'text-green-400' : 'text-red-400'}`}>
                      {algo.pnl}
                    </span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-slate-400 text-sm">Trades:</span>
                    <span className="text-white">{algo.trades}</span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-slate-400 text-sm">Win Rate:</span>
                    <span className="text-white">{algo.winRate}</span>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Risk Management Dashboard */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700/50">
          <h3 className="text-lg font-semibold text-white mb-6">Risk Management</h3>
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div>
              <h4 className="text-white font-medium mb-4">Position Limits</h4>
              <div className="space-y-3">
                {[
                  { metric: 'Portfolio VaR', current: 2.1, limit: 3.0, unit: '%' },
                  { metric: 'Sector Concentration', current: 15.2, limit: 20.0, unit: '%' },
                  { metric: 'Leverage Ratio', current: 1.35, limit: 2.0, unit: 'x' },
                  { metric: 'Correlation Risk', current: 0.68, limit: 0.8, unit: '' }
                ].map((limit, index) => {
                  const percentage = (limit.current / limit.limit) * 100;
                  const isWarning = percentage > 80;
                  const isDanger = percentage > 95;
                  
                  return (
                    <div key={index} className="space-y-2">
                      <div className="flex justify-between">
                        <span className="text-slate-300 text-sm">{limit.metric}</span>
                        <span className={`text-sm font-medium ${
                          isDanger ? 'text-red-400' : 
                          isWarning ? 'text-yellow-400' : 
                          'text-green-400'
                        }`}>
                          {limit.current}{limit.unit} / {limit.limit}{limit.unit}
                        </span>
                      </div>
                      <div className="w-full bg-slate-700 rounded-full h-2">
                        <div 
                          className={`h-2 rounded-full transition-all duration-500 ${
                            isDanger ? 'bg-red-500' : 
                            isWarning ? 'bg-yellow-500' : 
                            'bg-green-500'
                          }`}
                          style={{ width: `${Math.min(percentage, 100)}%` }}
                        ></div>
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
            <div>
              <h4 className="text-white font-medium mb-4">Risk Alerts</h4>
              <div className="space-y-3">
                {[
                  { 
                    message: 'AAPL position approaching sector limit', 
                    severity: 'warning',
                    time: '2 minutes ago'
                  },
                  { 
                    message: 'VIX spike detected - volatility regime shift', 
                    severity: 'info',
                    time: '15 minutes ago'
                  },
                  { 
                    message: 'Correlation breakout in tech sector', 
                    severity: 'warning',
                    time: '1 hour ago'
                  }
                ].map((alert, index) => (
                  <div key={index} className={`p-3 rounded-lg border ${
                    alert.severity === 'warning' ? 'bg-yellow-400/10 border-yellow-400/30 text-yellow-400' :
                    alert.severity === 'error' ? 'bg-red-400/10 border-red-400/30 text-red-400' :
                    'bg-blue-400/10 border-blue-400/30 text-blue-400'
                  }`}>
                    <div className="flex items-start justify-between">
                      <span className="text-sm">{alert.message}</span>
                      <span className="text-xs opacity-75 ml-2">{alert.time}</span>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ShadowAlphaDashboard;